#修改Sentinel监听端口
port 6386

#允许Sentinel后台运行
daemonize yes

#设置Sentinel日志存放路径
logfile "./slave2/sentinel/tmp/redis-sentinel.log"

#工作目录，需要创建好目录,可自定义
dir "/Users/caizh/github/redis_test/sentinel_test/slave2/sentinel/tmp"

#Sentinel监听redis主节点
#redis01：master名称可自定义
#10.10.41.111 7000 ：redis主节点IP和端口
#2 ：表示多少个Sentinel认为redis主节点失效时，才算真正失效
sentinel monitor redis01 127.0.0.1 6383 2

#配置失效时间，master会被这个sentinel主观地认为是不可用的，单位毫秒
sentinel down-after-milliseconds redis01 10000

#若sentinel在该配置值内未能完成master/slave自动切换，则认为本次failover失败。
sentinel failover-timeout redis01 60000

#在发生failover主备切换时最多可以有多少个slave同时对新的master进行同步。
sentinel parallel-syncs redis01 2

#设置连接master和slave时的密码，注意的是sentinel不能分别为master和slave设置不同的密码，因此master和slave的密码应该设置相同
sentinel auth-pass redis01 123456
# Generated by CONFIG REWRITE
protected-mode no
pidfile "/var/run/redis.pid"
user default on nopass ~* &* +@all
sentinel myid 14f907cb15f07a3f140afc564ca67f02f44ed347
sentinel config-epoch redis01 1
sentinel leader-epoch redis01 1
sentinel current-epoch 1
sentinel known-replica redis01 127.0.0.1 6385
sentinel known-replica redis01 127.0.0.1 6381
sentinel known-sentinel redis01 127.0.0.1 6384 b1181c457d0772b2e7c358e9208d5d7f9d0d5b70
sentinel known-sentinel redis01 127.0.0.1 6382 36b66820abce13059102a051e4b90f2692c0f154
